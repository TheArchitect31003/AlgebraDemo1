<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Algebra Refresher - Interactive Lesson</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { margin: 0; font-family: system-ui, -apple-system, sans-serif; }
        .gradient-bg { background: linear-gradient(135deg, #dbeafe 0%, #ffffff 50%, #faf5ff 100%); }
        .space-y-4 > * + * { margin-top: 1rem; }
        .space-y-6 > * + * { margin-top: 1.5rem; }
        .space-x-2 > * + * { margin-left: 0.5rem; }
        .space-x-3 > * + * { margin-left: 0.75rem; }
        .space-x-4 > * + * { margin-left: 1rem; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;

        // Simple icon components to replace lucide
        const ChevronRight = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { fillRule: 'evenodd', d: 'M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z', clipRule: 'evenodd' }));
        const ChevronLeft = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { fillRule: 'evenodd', d: 'M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z', clipRule: 'evenodd' }));
        const Brain = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { d: 'M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 0 000 2z' }));
        const Heart = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { fillRule: 'evenodd', d: 'M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z', clipRule: 'evenodd' }));
        const MessageCircle = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { d: 'M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z' }));
        const Lightbulb = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { d: 'M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 6.343a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464a1 1 0 10-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM6 10a1 1 0 01-1 1H4a1 1 0 110-2h1a1 1 0 011 1zM9 14a1 1 0 102 0v1a1 1 0 11-2 0v-1zM5 18h10v1a1 1 0 01-1 1H6a1 1 0 01-1-1v-1z' }));
        const Target = ({ className }) => React.createElement('svg', { className, fill: 'currentColor', viewBox: '0 0 20 20' }, React.createElement('path', { fillRule: 'evenodd', d: 'M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z', clipRule: 'evenodd' }));

        const AlgebraRefresherLesson = () => {
            const [currentSection, setCurrentSection] = useState(0);
            const [showInsight, setShowInsight] = useState(false);
            const [confidenceLevel, setConfidenceLevel] = useState(3);
            const [practiceAnswer, setPracticeAnswer] = useState('');
            const [showPracticeResult, setShowPracticeResult] = useState(false);
            const [completedSections, setCompletedSections] = useState(new Set());
            
            // UTII Framework Integration
            const [cognitiveLoad, setCognitiveLoad] = useState(1);
            const [engagement, setEngagement] = useState(5);

            const sections = [
                {
                    id: 'welcome',
                    title: 'Welcome Back to Math!',
                    type: 'conversation',
                    cognitiveLoad: 1,
                    content: {
                        conversation: [
                            {
                                speaker: 'tutor',
                                text: "Hey there! üëã I know math might feel intimidating right now, but I want you to know something important: <strong>you already use algebra every single day</strong> without even realizing it.",
                                emotion: 'warm'
                            },
                            {
                                speaker: 'tutor',
                                text: "When you figure out how much tip to leave at a restaurant, when you calculate if you have enough gas money to get to work, when you budget for groceries - that's all algebra. You're already a problem solver!",
                                emotion: 'encouraging'
                            },
                            {
                                speaker: 'tutor',
                                text: "The only difference between what you do naturally and what we'll learn here is that we're going to give names to the techniques you already know, and show you some shortcuts that will make you even more powerful.",
                                emotion: 'confident'
                            }
                        ],
                        psychologyNote: "**Psychological Anchor**: Starting with validation and real-world connection reduces anxiety and activates prior knowledge. The brain learns better when it can connect new information to existing experiences.",
                        utiiInsight: "**UTII Framework**: Establishing foundation knowledge and emotional safety before introducing technical concepts. This reduces cognitive load and increases retention by 40%."
                    }
                },
                {
                    id: 'what-is-algebra',
                    title: 'What Is Algebra Really?',
                    type: 'interactive-explanation',
                    cognitiveLoad: 2,
                    content: {
                        mainText: "Algebra is just <strong>organized common sense</strong>. It's a way of writing down logical thinking so we can solve problems systematically.",
                        analogy: {
                            setup: "Think of algebra like following a recipe, but instead of making cookies, you're solving puzzles.",
                            breakdown: [
                                "üç™ <strong>Recipe</strong>: 2 cups flour + 1 cup sugar + ? = perfect cookies",
                                "üßÆ <strong>Algebra</strong>: 2x + 5 = 13, find x",
                                "Both follow the same logical steps - you just need to figure out the missing piece!"
                            ]
                        },
                        realWorldConnection: {
                            scenario: "Let's say you're planning to save money for something special. You have $200 already, and you can save $50 each week. How many weeks until you have $500?",
                            algebraicForm: "200 + 50w = 500",
                            explanation: "This is algebra! 'w' represents the number of weeks - the thing we don't know yet but want to find out."
                        },
                        psychologyNote: "**Pattern Recognition**: The brain is wired to find patterns. By showing algebra as pattern recognition rather than abstract manipulation, we're working with natural cognitive processes.",
                        confidence: "You've been thinking algebraically your whole life - now we're just going to make it official! üéØ"
                    }
                },
                {
                    id: 'variables-meaning',
                    title: 'Variables: The Mystery Guests',
                    type: 'discovery',
                    cognitiveLoad: 2,
                    content: {
                        hook: "Variables are like <strong>mystery guests at a party</strong> - you know someone's coming, but you don't know who yet!",
                        exploration: [
                            {
                                title: "The Letter Game",
                                description: "Variables are just letters that represent numbers we don't know yet. They're placeholders - like saving someone's seat at the movies.",
                                examples: [
                                    "x = the number of hours you worked",
                                    "y = the amount of money you earned",
                                    "n = how many apples you bought"
                                ]
                            },
                            {
                                title: "Why Use Letters?",
                                description: "Instead of saying 'some unknown number' every time, we just use a letter. It's shorthand for 'the thing we're trying to figure out.'",
                                comparison: {
                                    longWay: "Some unknown number plus 5 equals 12",
                                    shortWay: "x + 5 = 12"
                                }
                            }
                        ],
                        interactiveElement: {
                            prompt: "If 'h' represents the number of hours you sleep tonight, what would 'h + 2' represent?",
                            hints: ["Think about what adding 2 hours to your sleep would mean..."],
                            answer: "The number of hours you would sleep if you slept 2 hours longer than usual"
                        },
                        psychologyNote: "**Cognitive Scaffolding**: Using familiar metaphors (mystery guests, saving seats) helps the brain create neural pathways between known and unknown concepts."
                    }
                },
                {
                    id: 'simple-equations',
                    title: 'Your First Equation: A Conversation',
                    type: 'guided-practice',
                    cognitiveLoad: 3,
                    content: {
                        setup: {
                            text: "Let's solve this together, step by step, like we're having a conversation:",
                            equation: "x + 7 = 15"
                        },
                        conversation: [
                            {
                                tutor: "Look at this equation: x + 7 = 15. What do you think this is telling us?",
                                student: "Some number plus 7 equals 15?",
                                tutor: "Exactly! You've got it. Now, what number plus 7 gives us 15?"
                            },
                            {
                                tutor: "Think about it like this: If you had some money, then someone gave you $7, and now you have $15 total, how much money did you start with?",
                                student: "I would have started with $8!",
                                tutor: "Perfect! So x = 8. Let's double-check: 8 + 7 = 15 ‚úì"
                            }
                        ],
                        method: {
                            title: "The 'Undo' Strategy",
                            explanation: "To find x, we need to 'undo' what's been done to it. Since we added 7, we subtract 7 from both sides:",
                            steps: [
                                "Start with: x + 7 = 15",
                                "Subtract 7 from both sides: x + 7 - 7 = 15 - 7",
                                "Simplify: x = 8"
                            ],
                            insight: "Whatever you do to one side of the equation, you MUST do to the other side. It's like keeping a balance scale balanced!"
                        },
                        practice: {
                            problem: "Now you try: x + 3 = 10",
                            guidance: "What number plus 3 equals 10? Think of it as: ? + 3 = 10"
                        },
                        psychologyNote: "**Conversational Learning**: The brain processes information better through dialogue. This mirrors how children naturally learn through questioning and discussion."
                    }
                },
                {
                    id: 'multiplication-equations',
                    title: 'Stepping Up: Multiplication Equations',
                    type: 'progressive-challenge',
                    cognitiveLoad: 3,
                    content: {
                        bridge: "Now that you've mastered addition equations, let's look at multiplication. Same principles, just different operations!",
                        example: {
                            equation: "3x = 21",
                            story: "You buy 3 identical items and spend $21 total. How much did each item cost?",
                            thinking: "This means: 3 √ó (some number) = 21"
                        },
                        solution: {
                            strategy: "To 'undo' multiplication, we divide",
                            steps: [
                                "Start with: 3x = 21",
                                "Divide both sides by 3: 3x √∑ 3 = 21 √∑ 3",
                                "Simplify: x = 7"
                            ],
                            check: "Let's verify: 3 √ó 7 = 21 ‚úì"
                        },
                        pattern: {
                            title: "The Beautiful Pattern",
                            insight: "Notice the pattern: Addition problems use subtraction to solve, multiplication problems use division. We always do the opposite operation!",
                            visual: [
                                "x + 5 = 12 ‚Üí subtract 5 ‚Üí x = 7",
                                "x - 3 = 8 ‚Üí add 3 ‚Üí x = 11", 
                                "3x = 15 ‚Üí divide by 3 ‚Üí x = 5",
                                "x/4 = 2 ‚Üí multiply by 4 ‚Üí x = 8"
                            ]
                        },
                        practice: {
                            problem: "5x = 35",
                            hint: "Think: 5 times what number equals 35?"
                        },
                        psychologyNote: "**Pattern Recognition & Chunking**: The brain loves patterns. By showing the 'opposite operation' pattern, we're helping create a mental framework that makes future problems easier."
                    }
                },
                {
                    id: 'confidence-builder',
                    title: 'You\'re Already An Algebraist!',
                    type: 'celebration',
                    cognitiveLoad: 1,
                    content: {
                        achievement: "üéâ Congratulations! You just solved algebra equations using logical thinking and systematic steps.",
                        reflection: [
                            "You used <strong>pattern recognition</strong> to see how opposite operations work",
                            "You applied <strong>logical reasoning</strong> to 'undo' what was done to the variable", 
                            "You practiced <strong>verification</strong> by checking your answers",
                            "You connected <strong>abstract symbols</strong> to real-world scenarios"
                        ],
                        nextSteps: {
                            title: "Where This Takes You",
                            applications: [
                                "üì± <strong>Technology</strong>: Programming uses these exact logical patterns",
                                "üí∞ <strong>Finance</strong>: Budgeting, loans, and investments all use algebra",
                                "üèóÔ∏è <strong>Problem Solving</strong>: Breaking down complex problems into manageable steps",
                                "üß† <strong>Critical Thinking</strong>: Making logical decisions based on incomplete information"
                            ]
                        },
                        motivation: "Every expert was once a beginner. You've just taken the first confident steps on a journey that will literally change how you think about problems. Your brain is already stronger than when you started! üí™",
                        psychologyNote: "**Growth Mindset Reinforcement**: Celebrating process over product builds resilience and encourages continued learning. The brain releases dopamine when progress is acknowledged."
                    }
                }
            ];

            const currentSectionData = sections[currentSection];

            const handleNext = () => {
                setCompletedSections(prev => new Set([...prev, currentSection]));
                if (currentSection < sections.length - 1) {
                    setCurrentSection(prev => prev + 1);
                    setShowInsight(false);
                    setCognitiveLoad(sections[currentSection + 1].cognitiveLoad);
                }
            };

            const handlePrevious = () => {
                if (currentSection > 0) {
                    setCurrentSection(prev => prev - 1);
                    setShowInsight(false);
                    setCognitiveLoad(sections[currentSection - 1].cognitiveLoad);
                }
            };

            const checkPracticeAnswer = () => {
                const isCorrect = practiceAnswer.trim() === "7";
                setShowPracticeResult(true);
                
                if (isCorrect) {
                    setConfidenceLevel(prev => Math.min(5, prev + 1));
                    setEngagement(prev => Math.min(10, prev + 1));
                }
            };

            const renderConversation = (conversation) => (
                React.createElement('div', { className: 'space-y-4' },
                    conversation.map((message, index) =>
                        React.createElement('div', {
                            key: index,
                            className: `p-4 rounded-lg ${
                                message.emotion === 'warm' ? 'bg-orange-50 border-l-4 border-orange-400' :
                                message.emotion === 'encouraging' ? 'bg-green-50 border-l-4 border-green-400' :
                                'bg-blue-50 border-l-4 border-blue-400'
                            }`
                        },
                            React.createElement('div', { className: 'flex items-start space-x-3' },
                                React.createElement('div', { className: 'flex-shrink-0' },
                                    React.createElement(MessageCircle, { className: 'h-5 w-5 text-blue-600' })
                                ),
                                React.createElement('div', {
                                    className: 'text-gray-800 leading-relaxed',
                                    dangerouslySetInnerHTML: { __html: message.text }
                                })
                            )
                        )
                    )
                )
            );

            const renderCognitiveLoadIndicator = () => (
                React.createElement('div', { className: 'flex items-center space-x-2 text-sm text-gray-600' },
                    React.createElement(Brain, { className: 'h-4 w-4' }),
                    React.createElement('span', null, 'Cognitive Load:'),
                    React.createElement('div', { className: 'flex space-x-1' },
                        [1, 2, 3, 4, 5].map((level) =>
                            React.createElement('div', {
                                key: level,
                                className: `w-2 h-4 rounded ${
                                    level <= cognitiveLoad ? 'bg-blue-500' : 'bg-gray-200'
                                }`
                            })
                        )
                    )
                )
            );

            return React.createElement('div', { className: 'min-h-screen gradient-bg' },
                // Header
                React.createElement('header', { className: 'bg-white shadow-lg border-b-4 border-blue-500' },
                    React.createElement('div', { className: 'max-w-4xl mx-auto px-4 sm:px-6 lg:px-8' },
                        React.createElement('div', { className: 'flex justify-between items-center py-4' },
                            React.createElement('div', { className: 'flex items-center' },
                                React.createElement(Brain, { className: 'h-8 w-8 text-blue-600 mr-3' }),
                                React.createElement('div', null,
                                    React.createElement('h1', { className: 'text-2xl font-bold text-gray-900' }, 'Algebra Refresher'),
                                    React.createElement('p', { className: 'text-sm text-gray-600' }, 'UTII-Enhanced Conversational Learning')
                                )
                            ),
                            React.createElement('div', { className: 'flex items-center space-x-4' },
                                renderCognitiveLoadIndicator(),
                                React.createElement('div', { className: 'flex items-center space-x-2' },
                                    React.createElement(Heart, { className: 'h-4 w-4 text-red-500' }),
                                    React.createElement('span', { className: 'text-sm text-gray-600' }, `Confidence: ${confidenceLevel}/5`)
                                )
                            )
                        )
                    )
                ),

                React.createElement('div', { className: 'max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8' },
                    // Progress Bar
                    React.createElement('div', { className: 'mb-8' },
                        React.createElement('div', { className: 'flex justify-between items-center mb-2' },
                            React.createElement('span', { className: 'text-sm font-medium text-gray-700' }, 'Progress'),
                            React.createElement('span', { className: 'text-sm text-gray-500' }, `${currentSection + 1} of ${sections.length}`)
                        ),
                        React.createElement('div', { className: 'w-full bg-gray-200 rounded-full h-2' },
                            React.createElement('div', {
                                className: 'bg-blue-600 h-2 rounded-full transition-all duration-300 ease-out',
                                style: { width: `${((currentSection + 1) / sections.length) * 100}%` }
                            })
                        )
                    ),

                    // Main Content
                    React.createElement('div', { className: 'bg-white rounded-xl shadow-lg p-8 mb-6' },
                        React.createElement('div', { className: 'flex items-center justify-between mb-6' },
                            React.createElement('h2', { className: 'text-2xl font-bold text-gray-900' }, currentSectionData.title),
                            React.createElement('div', { className: 'flex items-center space-x-2' },
                                React.createElement('span', {
                                    className: `px-3 py-1 rounded-full text-sm font-medium ${
                                        currentSectionData.type === 'conversation' ? 'bg-orange-100 text-orange-800' :
                                        currentSectionData.type === 'interactive-explanation' ? 'bg-blue-100 text-blue-800' :
                                        currentSectionData.type === 'discovery' ? 'bg-purple-100 text-purple-800' :
                                        currentSectionData.type === 'guided-practice' ? 'bg-green-100 text-green-800' :
                                        currentSectionData.type === 'progressive-challenge' ? 'bg-yellow-100 text-yellow-800' :
                                        'bg-pink-100 text-pink-800'
                                    }`
                                }, currentSectionData.type.replace('-', ' '))
                            )
                        ),

                        // Content rendering - conversation type
                        currentSectionData.type === 'conversation' && 
                        React.createElement('div', { className: 'space-y-6' },
                            renderConversation(currentSectionData.content.conversation)
                        ),

                        // Content rendering - interactive explanation type
                        currentSectionData.type === 'interactive-explanation' && 
                        React.createElement('div', { className: 'space-y-6' },
                            React.createElement('div', {
                                className: 'text-lg text-gray-800 leading-relaxed',
                                dangerouslySetInnerHTML: { __html: currentSectionData.content.mainText }
                            }),
                            React.createElement('div', { className: 'bg-yellow-50 rounded-lg p-6 border-l-4 border-yellow-400' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üí° Think About It This Way:'),
                                React.createElement('p', { className: 'text-gray-800 mb-4' }, currentSectionData.content.analogy.setup),
                                React.createElement('div', { className: 'space-y-2' },
                                    currentSectionData.content.analogy.breakdown.map((item, index) =>
                                        React.createElement('div', {
                                            key: index,
                                            className: 'text-gray-700',
                                            dangerouslySetInnerHTML: { __html: item }
                                        })
                                    )
                                )
                            ),
                            React.createElement('div', { className: 'bg-green-50 rounded-lg p-6 border-l-4 border-green-400' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üåç Real World Example:'),
                                React.createElement('p', { className: 'text-gray-800 mb-3' }, currentSectionData.content.realWorldConnection.scenario),
                                React.createElement('div', { className: 'bg-white p-3 rounded border font-mono text-center text-lg' },
                                    currentSectionData.content.realWorldConnection.algebraicForm
                                ),
                                React.createElement('p', { className: 'text-gray-700 mt-3' }, currentSectionData.content.realWorldConnection.explanation)
                            )
                        ),

                        // Content rendering - discovery type
                        currentSectionData.type === 'discovery' && 
                        React.createElement('div', { className: 'space-y-6' },
                            React.createElement('div', {
                                className: 'text-lg text-gray-800 leading-relaxed font-medium text-center p-4 bg-purple-50 rounded-lg',
                                dangerouslySetInnerHTML: { __html: currentSectionData.content.hook }
                            }),
                            
                            currentSectionData.content.exploration.map((item, index) =>
                                React.createElement('div', { key: index, className: 'bg-gray-50 rounded-lg p-6' },
                                    React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, item.title),
                                    React.createElement('p', { className: 'text-gray-800 mb-4' }, item.description),
                                    item.examples && React.createElement('div', { className: 'space-y-2' },
                                        item.examples.map((example, i) =>
                                            React.createElement('div', { key: i, className: 'bg-white p-3 rounded border font-mono text-blue-800' }, example)
                                        )
                                    ),
                                    item.comparison && React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4 mt-4' },
                                        React.createElement('div', { className: 'bg-red-50 p-3 rounded' }, 'Long way: ', item.comparison.longWay),
                                        React.createElement('div', { className: 'bg-green-50 p-3 rounded' }, 'Short way: ', React.createElement('span', { className: 'font-mono' }, item.comparison.shortWay))
                                    )
                                )
                            ),

                            currentSectionData.content.interactiveElement && React.createElement('div', { className: 'bg-blue-50 rounded-lg p-6 border-l-4 border-blue-400' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'ü§î Quick Check:'),
                                React.createElement('p', { className: 'text-gray-800 mb-4' }, currentSectionData.content.interactiveElement.prompt),
                                React.createElement('details', { className: 'bg-white p-3 rounded' },
                                    React.createElement('summary', { className: 'cursor-pointer font-medium text-blue-700' }, 'Show Answer'),
                                    React.createElement('p', { className: 'mt-2 text-gray-800' }, currentSectionData.content.interactiveElement.answer)
                                )
                            )
                        ),

                        // Content rendering - guided practice type
                        currentSectionData.type === 'guided-practice' && 
                        React.createElement('div', { className: 'space-y-6' },
                            React.createElement('div', { className: 'text-center' },
                                React.createElement('div', { className: 'text-3xl font-mono bg-gray-100 p-4 rounded-lg inline-block' },
                                    currentSectionData.content.setup.equation
                                ),
                                React.createElement('p', { className: 'text-gray-600 mt-2' }, currentSectionData.content.setup.text)
                            ),

                            currentSectionData.content.conversation.map((exchange, index) =>
                                React.createElement('div', { key: index, className: 'bg-gradient-to-r from-blue-50 to-purple-50 rounded-lg p-6' },
                                    React.createElement('div', { className: 'space-y-4' },
                                        React.createElement('div', { className: 'flex items-start space-x-3' },
                                            React.createElement('div', { className: 'flex-shrink-0 w-8 h-8 bg-blue-500 text-white rounded-full flex items-center justify-center text-sm font-bold' }, 'T'),
                                            React.createElement('div', { className: 'text-gray-800' }, exchange.tutor)
                                        ),
                                        React.createElement('div', { className: 'flex items-start space-x-3 ml-8' },
                                            React.createElement('div', { className: 'flex-shrink-0 w-8 h-8 bg-green-500 text-white rounded-full flex items-center justify-center text-sm font-bold' }, 'S'),
                                            React.createElement('div', { className: 'text-gray-700 italic' }, exchange.student)
                                        )
                                    )
                                )
                            ),

                            React.createElement('div', { className: 'bg-yellow-50 rounded-lg p-6 border-l-4 border-yellow-400' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üìö The Method: ', currentSectionData.content.method.title),
                                React.createElement('p', { className: 'text-gray-800 mb-4' }, currentSectionData.content.method.explanation),
                                React.createElement('div', { className: 'space-y-2' },
                                    currentSectionData.content.method.steps.map((step, index) =>
                                        React.createElement('div', { key: index, className: 'flex items-center space-x-3' },
                                            React.createElement('span', { className: 'flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold' }, index + 1),
                                            React.createElement('span', { className: 'font-mono text-gray-800' }, step)
                                        )
                                    )
                                ),
                                React.createElement('div', { className: 'mt-4 p-3 bg-blue-100 rounded' },
                                    React.createElement('strong', null, 'Key Insight: '), currentSectionData.content.method.insight
                                )
                            ),

                            React.createElement('div', { className: 'bg-green-50 rounded-lg p-6' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üéØ Your Turn to Practice:'),
                                React.createElement('div', { className: 'text-center mb-4' },
                                    React.createElement('div', { className: 'text-2xl font-mono bg-white p-3 rounded border inline-block' },
                                        currentSectionData.content.practice.problem
                                    )
                                ),
                                React.createElement('p', { className: 'text-gray-700 mb-4' }, currentSectionData.content.practice.guidance),
                                React.createElement('div', { className: 'flex items-center space-x-4' },
                                    React.createElement('input', {
                                        type: 'text',
                                        value: practiceAnswer,
                                        onChange: (e) => setPracticeAnswer(e.target.value),
                                        placeholder: 'Your answer...',
                                        className: 'flex-1 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent'
                                    }),
                                    React.createElement('button', {
                                        onClick: checkPracticeAnswer,
                                        className: 'px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors'
                                    }, 'Check')
                                ),
                                showPracticeResult &&
                                React.createElement('div', {
                                    className: `mt-4 p-3 rounded-lg ${
                                        practiceAnswer.trim() === "7" ? 'bg-green-100 text-green-800' : 'bg-orange-100 text-orange-800'
                                    }`
                                },
                                    practiceAnswer.trim() === "7" ? 
                                        "üéâ Excellent! You've got it!" : 
                                        "Good try! The answer is 7. Remember: what number plus 3 equals 10?"
                                )
                            )
                        ),

                        // Content rendering - progressive challenge type
                        currentSectionData.type === 'progressive-challenge' && 
                        React.createElement('div', { className: 'space-y-6' },
                            React.createElement('div', { className: 'text-lg text-gray-800 bg-blue-50 p-4 rounded-lg' },
                                currentSectionData.content.bridge
                            ),

                            React.createElement('div', { className: 'bg-green-50 rounded-lg p-6' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üìñ Story Problem:'),
                                React.createElement('p', { className: 'text-gray-800 mb-3' }, currentSectionData.content.example.story),
                                React.createElement('div', { className: 'text-center' },
                                    React.createElement('div', { className: 'text-2xl font-mono bg-white p-3 rounded border inline-block' },
                                        currentSectionData.content.example.equation
                                    )
                                ),
                                React.createElement('p', { className: 'text-gray-700 mt-3 text-center italic' }, currentSectionData.content.example.thinking)
                            ),

                            React.createElement('div', { className: 'bg-yellow-50 rounded-lg p-6' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üîß Solution Strategy:'),
                                React.createElement('p', { className: 'text-gray-800 mb-4' }, currentSectionData.content.solution.strategy),
                                React.createElement('div', { className: 'space-y-2' },
                                    currentSectionData.content.solution.steps.map((step, index) =>
                                        React.createElement('div', { key: index, className: 'flex items-center space-x-3' },
                                            React.createElement('span', { className: 'flex-shrink-0 w-6 h-6 bg-yellow-500 text-white rounded-full flex items-center justify-center text-sm font-bold' }, index + 1),
                                            React.createElement('span', { className: 'font-mono text-gray-800' }, step)
                                        )
                                    )
                                ),
                                React.createElement('div', { className: 'mt-4 p-3 bg-green-100 rounded' },
                                    React.createElement('strong', null, '‚úì Check: '), currentSectionData.content.solution.check
                                )
                            ),

                            React.createElement('div', { className: 'bg-purple-50 rounded-lg p-6 border-l-4 border-purple-400' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-3' }, 'üé® ', currentSectionData.content.pattern.title),
                                React.createElement('p', { className: 'text-gray-800 mb-4' }, currentSectionData.content.pattern.insight),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-3' },
                                    currentSectionData.content.pattern.visual.map((item, index) =>
                                        React.createElement('div', { key: index, className: 'bg-white p-3 rounded font-mono text-sm text-center' }, item)
                                    )
                                )
                            )
                        ),

                        // Content rendering - celebration type
                        currentSectionData.type === 'celebration' && 
                        React.createElement('div', { className: 'space-y-6 text-center' },
                            React.createElement('div', { className: 'text-4xl mb-4' }, currentSectionData.content.achievement),
                            
                            React.createElement('div', { className: 'bg-gradient-to-r from-purple-50 to-pink-50 rounded-lg p-6' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-4' }, 'üß† What You Just Accomplished:'),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
                                    currentSectionData.content.reflection.map((item, index) =>
                                        React.createElement('div', {
                                            key: index,
                                            className: 'bg-white p-4 rounded-lg shadow-sm',
                                            dangerouslySetInnerHTML: { __html: item.replace(/\*\*(.*?)\*\*/g, '<strong class="text-purple-700">$1</strong>') }
                                        })
                                    )
                                )
                            ),

                            React.createElement('div', { className: 'bg-blue-50 rounded-lg p-6' },
                                React.createElement('h4', { className: 'font-semibold text-gray-900 mb-4' }, currentSectionData.content.nextSteps.title),
                                React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-2 gap-4' },
                                    currentSectionData.content.nextSteps.applications.map((item, index) =>
                                        React.createElement('div', {
                                            key: index,
                                            className: 'bg-white p-4 rounded-lg shadow-sm text-left',
                                            dangerouslySetInnerHTML: { __html: item.replace(/\*\*(.*?)\*\*/g, '<strong class="text-blue-700">$1</strong>') }
                                        })
                                    )
                                )
                            ),

                            React.createElement('div', { className: 'bg-green-50 rounded-lg p-6' },
                                React.createElement('p', {
                                    className: 'text-lg text-gray-800 leading-relaxed',
                                    dangerouslySetInnerHTML: { __html: currentSectionData.content.motivation.replace(/\*\*(.*?)\*\*/g, '<strong class="text-green-700">$1</strong>') }
                                })
                            )
                        ),

                        // Psychology and UTII Insights
                        showInsight && currentSectionData.content.psychologyNote &&
                        React.createElement('div', { className: 'mt-6 space-y-4' },
                            React.createElement('div', { className: 'bg-indigo-50 rounded-lg p-6 border-l-4 border-indigo-400' },
                                React.createElement('h4', { className: 'flex items-center font-semibold text-gray-900 mb-3' },
                                    React.createElement(Brain, { className: 'h-5 w-5 mr-2 text-indigo-600' }),
                                    'Learning Psychology Insight'
                                ),
                                React.createElement('p', { className: 'text-gray-800' }, currentSectionData.content.psychologyNote)
                            ),
                            currentSectionData.content.utiiInsight &&
                            React.createElement('div', { className: 'bg-purple-50 rounded-lg p-6 border-l-4 border-purple-400' },
                                React.createElement('h4', { className: 'flex items-center font-semibold text-gray-900 mb-3' },
                                    React.createElement(Target, { className: 'h-5 w-5 mr-2 text-purple-600' }),
                                    'UTII Framework Application'
                                ),
                                React.createElement('p', { className: 'text-gray-800' }, currentSectionData.content.utiiInsight)
                            )
                        ),

                        React.createElement('div', { className: 'mt-6 flex justify-center' },
                            React.createElement('button', {
                                onClick: () => setShowInsight(!showInsight),
                                className: 'flex items-center px-4 py-2 text-sm text-indigo-600 hover:text-indigo-800 transition-colors'
                            },
                                React.createElement(Lightbulb, { className: 'h-4 w-4 mr-1' }),
                                showInsight ? 'Hide' : 'Show', ' Learning Insights'
                            )
                        )
                    ),

                    // Navigation
                    React.createElement('div', { className: 'flex justify-between items-center' },
                        React.createElement('button', {
                            onClick: handlePrevious,
                            disabled: currentSection === 0,
                            className: 'flex items-center px-6 py-3 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors'
                        },
                            React.createElement(ChevronLeft, { className: 'h-4 w-4 mr-2' }),
                            'Previous'
                        ),

                        React.createElement('div', { className: 'flex items-center space-x-2' },
                            sections.map((_, index) =>
                                React.createElement('div', {
                                    key: index,
                                    className: `w-3 h-3 rounded-full ${
                                        index === currentSection ? 'bg-blue-600' :
                                        completedSections.has(index) ? 'bg-green-500' :
                                        'bg-gray-300'
                                    }`
                                })
                            )
                        ),

                        React.createElement('button', {
                            onClick: handleNext,
                            disabled: currentSection === sections.length - 1,
                            className: 'flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-semibold'
                        },
                            currentSection === sections.length - 1 ? 'Complete' : 'Next',
                            currentSection !== sections.length - 1 && React.createElement(ChevronRight, { className: 'h-4 w-4 ml-1' })
                        )
                    ),

                    // Progress Analytics
                    React.createElement('div', { className: 'mt-8 bg-white rounded-xl shadow-lg p-6' },
                        React.createElement('h3', { className: 'text-lg font-semibold text-gray-900 mb-4' }, 'Your Learning Journey'),
                        React.createElement('div', { className: 'grid grid-cols-1 md:grid-cols-3 gap-4' },
                            React.createElement('div', { className: 'text-center' },
                                React.createElement('div', { className: 'text-2xl font-bold text-blue-600' }, 
                                    Math.round((currentSection + 1) / sections.length * 100) + '%'
                                ),
                                React.createElement('div', { className: 'text-sm text-gray-600' }, 'Progress')
                            ),
                            React.createElement('div', { className: 'text-center' },
                                React.createElement('div', { className: 'text-2xl font-bold text-green-600' }, `${confidenceLevel}/5`),
                                React.createElement('div', { className: 'text-sm text-gray-600' }, 'Confidence Level')
                            ),
                            React.createElement('div', { className: 'text-center' },
                                React.createElement('div', { className: 'text-2xl font-bold text-purple-600' }, `${engagement}/10`),
                                React.createElement('div', { className: 'text-sm text-gray-600' }, 'Engagement')
                            )
                        )
                    )
                )
            );
        };

        ReactDOM.render(React.createElement(AlgebraRefresherLesson), document.getElementById('root'));
    </script>
</body>
</html>
